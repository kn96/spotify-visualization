<template name="home">
  <div class="container">
    <div class="jumbotron" style="margin-top: 3em; height: 60em">
      <a href="/login" class="login-button"><div class="login-button-content">Login to <img class="spotify-button-logo" src="/assets/png/SpotifyWhite.png"></div></a>
    </div>
  </div>
</template>

<template name="spotify">
  <div class="container">
  	{{> user}}
    <div class="clearfix">
      {{ #each playlists }}
        {{> playlistSummary child=this}}
      {{ /each }}
    </div>
    <hr>
    <div>
      {{#if hasCurrentPlaylist}}
      <div class="row playlist-header">
        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-4">
          <img id="playlistImg" src="{{ largeImage }}">
        </div>
        <div class="col-lg-4 col-md-2 col-sm-3 col-xs-4">
          <h1 id="playlistName">{{ playlistName }}</h1>
          {{ #if songCount }}
            <h3 id="songCount"><small>{{ songCount }} songs</small></h3>
          {{ else }}
            <h3><small>- songs</small></h3>
          {{ /if }}
        </div>
      </div>
        <div>
          {{#each songs}}
            <div class="clearfix">
              {{> song}}
            </div>
          {{/each}}
        </div>
      {{/if}}
    </div>
  </div>
</template>

<template name="playlistSummary">
  <div class="playlist col-lg-3 col-md-3 col-sm-3 col-xs-6">
    {{ #if playlistImage child.images }}
      <img class="playlist-selection-img" style="{{ #if no_access child.owner.id child.public child.collaborative }} opacity: 0.3 {{ /if }}" src="{{ playlistImage child.images }}">
    {{ else }}
      <img class="playlist-selection-img" style="opacity: 0.5" src="/assets/png/music-note.png">
    {{ /if }}
    <h4>{{ child.name }}</h4>
    <div><button class="playlistButton btn btn-secondary {{ #if no_access child.owner.id child.public child.collaborative }} disabled {{ /if }}" 
                 id="{{ #unless no_access child.owner.id child.public child.collaborative }}{{ child.id }}{{ /unless }}">Open Playlist</button></div>
  </div>
</template>

<template name="song">
  <div>
    <h2>
      {{track.name}}
      <br>
      <small>{{artistNames}}</small>
    </h2>
  </div>
  <div class="clearfix">
    <div class="col-md-2"><h4>{{track.album.name}}</h4></div>
    <div class="col-md-2"><img src="{{albumArt}}"></div>
  </div>
  <span><a href="{{track.external_urls.spotify}}">Open this song in Spotify</a></span>
</template>

<template name="user">
  <div class="jumbotron">
    <div class="clearfix">
      <div class="col-lg-3 col-md-3 col-sm-12">
        {{ #if profile_picture }}
          <img class="profile-picture" src="{{profile_picture}}">
        {{ else }}
          <img class="profile-picture" src="assets/png/generic_profile.jpg">
        {{ /if }}
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <h2>{{ display_name }}</h2>
        <p>ID: {{ id }}</p>
        {{ #if followers }}
          <p>{{ followers }} followers</p>
        {{ else }}
          <p>- followers</p>
        {{ /if }}
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
      </div>
    </div>
  </div>
</template>
